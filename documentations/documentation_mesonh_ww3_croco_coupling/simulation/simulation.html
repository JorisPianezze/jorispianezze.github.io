

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Simulation &mdash; Meso-NH/WW3/CROCO coupling 2.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=51b770b3"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="To go further" href="../togofurther/togofurther.html" />
    <link rel="prev" title="Pre-processing" href="../preprocessing/preprocessing.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Meso-NH/WW3/CROCO coupling
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../requirements/requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../compilation/compilation.html">Compilation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../preprocessing/preprocessing.html">Pre-processing</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Simulation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#run-a-coupled-simulation">Run a coupled simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#outputs-of-a-coupled-simulation">Outputs of a coupled simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#changing-the-coupling-time-step">Changing the coupling time step</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../togofurther/togofurther.html">To go further</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Meso-NH/WW3/CROCO coupling</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Simulation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/simulation/simulation.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="simulation">
<span id="rst-simulation"></span><h1>Simulation<a class="headerlink" href="#simulation" title="Link to this heading"></a></h1>
<section id="run-a-coupled-simulation">
<h2>Run a coupled simulation<a class="headerlink" href="#run-a-coupled-simulation" title="Link to this heading"></a></h2>
<p>Depending on whether you want to run a coupled OA simulation or a coupled Meso-NH/WW3/CROCO simulation, you need to go to the B1_cpl_mnh_croco or C1_cpl_mnh_ww3_croco directory, respectively. In these directories, you need to change the path and run the script using the following command :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sbatch<span class="w"> </span>run_cpl_mnh_ww3_croco.sub
</pre></div>
</div>
<p>or :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./run_cpl_mnh_ww3_croco.sub
</pre></div>
</div>
<p>At the end of this simulation, you should read ‘’(oasis_terminate) SUCCESSFUL RUN’’ at the end of the debug.root.XX files. The standard outputs for Meso-NH/SurfEx, WW3 and CROCO are the same as in the forced simulations.</p>
</section>
<section id="outputs-of-a-coupled-simulation">
<h2>Outputs of a coupled simulation<a class="headerlink" href="#outputs-of-a-coupled-simulation" title="Link to this heading"></a></h2>
<p>At the end of your simulation, a large number of files are created:</p>
<ul class="simple">
<li><p>Meso-NH /SurfEx output: standard output (the same as for a forced simulation)</p></li>
<li><p>WW3 output: standard output (same as for a forced simulation)</p></li>
<li><p>CROCO output: standard output (same as a forced simulation)</p></li>
<li><p>OASIS output: debug files, etc.</p></li>
</ul>
</section>
<section id="changing-the-coupling-time-step">
<h2>Changing the coupling time step<a class="headerlink" href="#changing-the-coupling-time-step" title="Link to this heading"></a></h2>
<p>To change the coupling time step, you need to modify several namelists. The Meso-NH namelist (EXSEG1.nam) :</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="n">XTSTEP_CPL_WAVE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">60</span><span class="mf">0.0</span>
<span class="n">XTSTEP_CPL_SEA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">60</span><span class="mf">0.0</span>
</pre></div>
</div>
<p>that of OASIS :</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="n">MNH__U10</span><span class="w"> </span><span class="n">WW3__U10</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">600</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">rst_A</span><span class="p">.</span><span class="n">nc</span><span class="w"> </span><span class="n">EXPORTED</span>
</pre></div>
</div>
<p>Coupling time step problem:
The XTSTEP in the MNH EXSEG must be identical to the LAG variable in the namcouple.
If this is not the case, the model may stop at the beginning of the simulation (e.g. at 600s).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>the coupling time step must be a multiple of the time steps of all the models.</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../preprocessing/preprocessing.html" class="btn btn-neutral float-left" title="Pre-processing" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../togofurther/togofurther.html" class="btn btn-neutral float-right" title="To go further" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, J. Pianezze.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>